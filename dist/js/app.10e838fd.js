(function(){"use strict";var e={5307:function(e,s,t){var o=t(3751),n=t(641);const r={id:"app"};function i(e,s,t,o,i,a){const l=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",r,[(0,n.bF)(l)])}var a={name:"App"},l=t(6262);const u=(0,l.A)(a,[["render",i]]);var c=u,d=t(5220),h=t.p+"img/logocaiman.4a5657d7.png";const p={class:"main-div"},m={key:0,class:"modal"},k={class:"modal-content"};function y(e,s,t,r,i,a){return(0,n.uX)(),(0,n.CE)("div",p,[s[8]||(s[8]=(0,n.Lk)("h1",null,[(0,n.Lk)("br"),(0,n.eW)(" TEST DEL CAIMÁN "),(0,n.Lk)("br"),(0,n.eW)("2024")],-1)),s[9]||(s[9]=(0,n.Lk)("img",{src:h,alt:"Caimán",width:"200",height:"200"},null,-1)),(0,n.Lk)("form",{onSubmit:s[2]||(s[2]=(0,o.D$)(((...e)=>a.login&&a.login(...e)),["prevent"])),class:"login-container"},[(0,n.bo)((0,n.Lk)("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>i.username=e),placeholder:"Usuario",required:""},null,512),[[o.Jo,i.username]]),(0,n.bo)((0,n.Lk)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>i.password=e),placeholder:"Contraseña",required:""},null,512),[[o.Jo,i.password]]),s[5]||(s[5]=(0,n.Lk)("button",{type:"submit"},"Iniciar sesión",-1))],32),(0,n.Lk)("button",{class:"btnHint",onClick:s[3]||(s[3]=(...e)=>this.showHints&&this.showHints(...e))}," Pistas"),i.showModal?((0,n.uX)(),(0,n.CE)("div",m,[(0,n.Lk)("div",k,[(0,n.Lk)("span",{class:"close",onClick:s[4]||(s[4]=(...e)=>this.closeModal&&this.closeModal(...e))},"×"),s[6]||(s[6]=(0,n.Lk)("h3",null,"Pistas de Contraseñas",-1)),s[7]||(s[7]=(0,n.Lk)("ul",null,[(0,n.Lk)("li",null,"Aitor: Frase que repites inconscientemente"),(0,n.Lk)("li",null,"Marcos: Inmueble ideal"),(0,n.Lk)("li",null,"Manel: Lo que nos separará"),(0,n.Lk)("li",null,"Carla: En lo que acabarás con tanto concierto y viaje"),(0,n.Lk)("li",null,"Noa: Lo que nos une aunque sin diagnosticar"),(0,n.Lk)("li",null,"Ana: Anita_____"),(0,n.Lk)("li",null,"Javier: Eres el CEO de _______ S.A. (singular)")],-1))])])):(0,n.Q3)("",!0)])}t(4114);var v={data(){return{username:"",password:"",error:null,showModal:!1}},methods:{async login(){try{console.log(this.username," ",this.password);const e=await fetch("http://localhost:8000/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username,password:this.password})}),s=await e.json();s.success?this.$router.push({path:"/waiting-room",query:{username:s.username}}):this.error=s.error||"Error desconocido"}catch(e){console.error("Error al iniciar sesión:",e),this.error="Error al iniciar sesión"}},showHints(){this.showModal=!0,console.log("Mostrando pistas")},closeModal(){this.showModal=!1}}};const g=(0,l.A)(v,[["render",y],["__scopeId","data-v-d8139462"]]);var w=g,C=t(33),E=t.p+"img/marcos.0225bd9e.png",L=t.p+"img/aitor.0a91a4c2.png",b=t.p+"img/javier.be076780.png",f=t.p+"img/ana.5905f883.png",Q=t.p+"img/carla.2e0bdfed.png",A=t.p+"img/noa.190663c0.png",O=t.p+"img/manel.02d07baf.png",X=t.p+"img/logowaiting.36293eb7.png";const S={class:"waiting-room"},q={key:0},I={key:1},_={key:2},M={key:3},j={key:4},x={key:5},P={key:6},T={key:7},N={key:8};function R(e,s,t,o,r,i){return(0,n.uX)(),(0,n.CE)("div",S,["Marcos"===this.username?((0,n.uX)(),(0,n.CE)("div",q,s[1]||(s[1]=[(0,n.Lk)("p",null,"¡Bienvenido Marcos!",-1),(0,n.Lk)("img",{src:E,alt:"Marcos",width:"100",height:"100"},null,-1)]))):(0,n.Q3)("",!0),"Aitor"===this.username?((0,n.uX)(),(0,n.CE)("div",I,s[2]||(s[2]=[(0,n.Lk)("p",null,"¡Bienvenido Aitor!",-1),(0,n.Lk)("img",{src:L,alt:"Aitor",width:"140",height:"100"},null,-1)]))):(0,n.Q3)("",!0),"Javier"===this.username?((0,n.uX)(),(0,n.CE)("div",_,s[3]||(s[3]=[(0,n.Lk)("p",null,"¡Bienvenido Javier!",-1),(0,n.Lk)("img",{src:b,alt:"Javier",width:"100",height:"100"},null,-1)]))):(0,n.Q3)("",!0),"Ana"===this.username?((0,n.uX)(),(0,n.CE)("div",M,s[4]||(s[4]=[(0,n.Lk)("p",null,"¡Bienvenida Ana!",-1),(0,n.Lk)("img",{src:f,alt:"Ana",width:"100",height:"100"},null,-1)]))):(0,n.Q3)("",!0),"Carla"===this.username?((0,n.uX)(),(0,n.CE)("div",j,s[5]||(s[5]=[(0,n.Lk)("p",null,"¡Bienvenida Carla!",-1),(0,n.Lk)("img",{src:Q,alt:"Carla",width:"100",height:"100"},null,-1)]))):(0,n.Q3)("",!0),"Noa"===this.username?((0,n.uX)(),(0,n.CE)("div",x,s[6]||(s[6]=[(0,n.Lk)("p",null,"¡Bienvenida Noa!",-1),(0,n.Lk)("img",{src:A,alt:"Noa",width:"100",height:"100"},null,-1)]))):(0,n.Q3)("",!0),"Manel"===this.username?((0,n.uX)(),(0,n.CE)("div",P,s[7]||(s[7]=[(0,n.Lk)("p",null,"¡Bienvenido Manel!",-1),(0,n.Lk)("img",{src:O,alt:"Manel",width:"100",height:"100"},null,-1)]))):(0,n.Q3)("",!0),s[9]||(s[9]=(0,n.Lk)("h2",null,"Sala de Espera",-1)),s[10]||(s[10]=(0,n.Lk)("img",{src:X,alt:"Caimán",width:"200",height:"200"},null,-1)),s[11]||(s[11]=(0,n.Lk)("p",null,"Jugadores conectados:",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.connectedPlayers,(e=>((0,n.uX)(),(0,n.CE)("li",{key:e},(0,C.v_)(e.username),1)))),128))]),"admin"==this.username?((0,n.uX)(),(0,n.CE)("div",T,[(0,n.Lk)("button",{class:"btnEmpezar",onClick:s[0]||(s[0]=(...e)=>i.startGame&&i.startGame(...e))},"Iniciar test")])):((0,n.uX)(),(0,n.CE)("div",N,s[8]||(s[8]=[(0,n.Lk)("p",null,"Esperando a que el caimán inicie el test...",-1)])))])}var $=t(4787),B={data(){return{connectedPlayers:[{username:"",score:0}],socket:null,username:""}},mounted(){this.socket.on("redirect-to-question",(()=>{this.$router.push({path:"/question-view",query:{username:this.username}})}))},computed:{filteredPlayers(){return this.connectedPlayers.filter((e=>e&&e.trim().length>0))}},created(){this.socket=(0,$.io)(),this.username=this.$route.query.username,this.socket.emit("set-username",this.username),this.socket.on("current-players",(e=>{this.connectedPlayers=e})),this.socket.on("update-players",(e=>{this.connectedPlayers=e})),this.socket.on("user-disconnected",(e=>{console.log(`${e} se ha desconectado`),this.connectedPlayers=this.connectedPlayers.filter((s=>s!==e))})),console.log(this.connectedPlayers)},methods:{async startGame(){try{const e=await fetch("http://localhost:8000/start-game",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.username})}),s=await e.json();s.success?this.socket.emit("redirect-to-question"):alert(s.error||"Error desconocido")}catch(e){console.error("Error al iniciar el test:",e)}}}};const F=(0,l.A)(B,[["render",R],["__scopeId","data-v-a0277230"]]);var J=F,K=t.p+"img/caimanRoom.56211752.png";const U={class:"question-view"},G={class:"CosasAdmin"},W={key:1,class:"modal-overlay"},H={class:"modal"},V={class:"buttons"},D=["onClick"],z=["onClick"],Y={key:2,class:"player-info"},Z={class:"players"},ee={key:0,class:"question-section"},se={class:"enunciado"},te={class:"option-grid"},oe=["onClick"],ne={key:1,class:"player-buttons"},re={class:"preguntaUsuario"},ie={class:"button-grid"},ae=["onClick"];function le(e,s,t,o,r,i){return(0,n.uX)(),(0,n.CE)("div",U,[(0,n.Lk)("div",G,["admin"===r.username?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:s[0]||(s[0]=(...e)=>i.openScoreModal&&i.openScoreModal(...e)),class:"btnAjustar"},"Ajustes de cuentas")):(0,n.Q3)("",!0),r.showScoreModal?((0,n.uX)(),(0,n.CE)("div",W,[(0,n.Lk)("div",H,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.players,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"player-row"},[(0,n.Lk)("p",null,(0,C.v_)(e.username),1),(0,n.Lk)("div",V,[(0,n.Lk)("button",{onClick:s=>i.adjustScore(e,.1),class:"btnSuma"},"+",8,D),(0,n.Lk)("button",{onClick:s=>i.adjustScore(e,-.1),class:"btnResta"},"-",8,z)]),(0,n.Lk)("p",null,"Puntuación: "+(0,C.v_)(e.score),1)])))),128)),(0,n.Lk)("button",{class:"close-button",onClick:s[1]||(s[1]=(...e)=>i.closeScoreModal&&i.closeScoreModal(...e))},"Cerrar")])])):(0,n.Q3)("",!0),"admin"===r.username?((0,n.uX)(),(0,n.CE)("div",Y,[(0,n.Lk)("div",Z,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.players,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"player-details"},[(0,n.Lk)("p",null,(0,C.v_)(e.username),1),(0,n.Lk)("p",null,(0,C.v_)(e.score),1)])))),128))])])):(0,n.Q3)("",!0),s[5]||(s[5]=(0,n.Lk)("img",{src:K,alt:"Caimán",width:"150",height:"150"},null,-1))]),"admin"===r.username?((0,n.uX)(),(0,n.CE)("div",ee,[(0,n.Lk)("div",se,[(0,n.Lk)("p",null,(0,C.v_)(r.currentQuestion.id)+" . "+(0,C.v_)(r.currentQuestion.question),1)]),(0,n.Lk)("div",te,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.currentQuestion.options,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:(0,C.C4)(["option",i.getOptionClass(s),{selected:r.selectedOption===s}]),onClick:e=>i.selectOption(s)},(0,C.v_)(e),11,oe)))),128))]),(0,n.Lk)("button",{class:"resolve-button",onClick:s[2]||(s[2]=e=>i.resolver())},"RESOLVER"),(0,n.Lk)("button",{class:"next-button",onClick:s[3]||(s[3]=e=>i.next())},"SIGUIENTE PREGUNTA")])):((0,n.uX)(),(0,n.CE)("div",ne,[(0,n.Lk)("div",re,[(0,n.Lk)("p",null,(0,C.v_)(r.currentQuestion.id)+" . "+(0,C.v_)(r.currentQuestion.question),1)]),(0,n.Lk)("div",ie,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.currentQuestion.options,((e,s)=>((0,n.uX)(),(0,n.CE)("button",{key:s,onClick:e=>i.selectOption(s),class:(0,C.C4)(["option",i.getOptionClass(s),{selected:r.selectedOption===s}])},(0,C.v_)(e),11,ae)))),128))]),(0,n.Lk)("button",{class:"action-button",onClick:s[4]||(s[4]=(...e)=>i.submitAnswer&&i.submitAnswer(...e))},"Enviar respuesta")]))])}var ue={data(){return{playerName:"",playerImage:"",questionText:"",options:[],selectedOption:null,username:"",questions:[],currentQuestionIndex:0,loading:!0,error:null,playerAnswers:[],showScoreModal:!1,players:[{username:"",score:0}],logo:"../assets/caimanRoom.png",currentQuestion:{question:"",options:[],correctAnswer:0}}},async created(){this.username=this.$route.query.username,this.socket=(0,$.io)(),this.socket.on("newQuestion",(e=>{this.currentQuestion=e})),this.socket.on("new-answer",(e=>{this.playerAnswers.push(e),console.log("Respuestas de los jugadores:",this.playerAnswers)})),this.socket.on("resolve-results",(e=>{console.log("Resultados de la resolución:",e)})),this.socket.on("redirect-to-trivia-room",(()=>{this.$router.push({name:"trivia-room",query:{username:this.username}})}));try{const e=await fetch("http://localhost:8000/getQuestionsKahoot");if(!e.ok)throw new Error(`Error del servidor: ${e.statusText}`);const s=await e.json();this.questions=s.questions,this.currentQuestion=this.questions[this.currentQuestionIndex]}catch(e){console.error("Error al cargar las preguntas:",e),this.error="Error al cargar las preguntas",this.loading=!1}try{const e=await fetch("http://localhost:8000/getConnectedPlayers");if(!e.ok)throw new Error(`Error del servidor: ${e.statusText}`);const s=await e.json();console.log("data",s),this.players=s.players}catch(s){this.error="Error al cargar los jugadores"}},methods:{selectOption(e){this.selectedOption=e},openScoreModal(){this.showScoreModal=!0},closeScoreModal(){this.showScoreModal=!1},adjustScore(e,s){e.score+=s,e.score<0&&(e.score=0)},async next(){if(this.currentQuestionIndex===this.questions.length-1){const e=await fetch("http://localhost:8000/updatePlayers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({players:this.players})}),s=await e.json();return console.log("data",s),void this.socket.emit("redirect-to-trivia-room")}this.currentQuestionIndex++,this.currentQuestion=this.questions[this.currentQuestionIndex],this.selectedOption=null,this.socket.emit("nextQuestion",this.currentQuestion);const e=document.getElementsByClassName("option");for(let s=0;s<e.length;s++)e[s].classList.remove("opcion-correcta"),e[s].classList.remove("opcion-incorrecta")},submitAnswer(){null!==this.selectedOption?(this.socket.emit("submit-answer",{player:this.username,answer:this.selectedOption}),alert(`Respuesta enviada: ${this.currentQuestion.options[this.selectedOption]}`),this.selectedOption=null):alert("Por favor selecciona una respuesta.")},getOptionClass(e){const s=["blue","green","orange","yellow"];return s[e]||""},resolver(){this.currentQuestion.options.forEach(((e,s)=>{s===this.currentQuestion.correctAnswer?document.getElementsByClassName("option")[s].classList.add("opcion-correcta"):document.getElementsByClassName("option")[s].classList.add("opcion-incorrecta")})),this.playerAnswers.forEach((e=>{console.log("playerAnswer.answer",e.answer),console.log("this.currentQuestion.correctAnswer",this.currentQuestion.correctAnswer),e.answer===this.currentQuestion.correctAnswer&&this.players.forEach((s=>{s.username===e.player?s.score=s.score+.1:console.log("No se ha encontrado el jugador")}))})),this.playerAnswers=[]}}};const ce=(0,l.A)(ue,[["render",le],["__scopeId","data-v-d80d7526"]]);var de=ce;const he={class:"trivia-room"},pe={class:"CosasAdmin"},me={key:1,class:"modal-overlay"},ke={class:"modal"},ye={class:"buttons"},ve=["onClick"],ge=["onClick"],we={key:2,class:"player-info"},Ce={class:"players"},Ee={key:0,class:"question-section"},Le={class:"turno"},be={class:"enunciado"},fe={class:"option-grid"},Qe={key:1,class:"user"},Ae={class:"option-grid-user"},Oe=["onClick"];function Xe(e,s,t,o,r,i){return(0,n.uX)(),(0,n.CE)("div",he,[(0,n.Lk)("div",pe,["admin"===r.username?((0,n.uX)(),(0,n.CE)("button",{key:0,onClick:s[0]||(s[0]=(...e)=>i.openScoreModal&&i.openScoreModal(...e)),class:"btnAjustar"},"Ajustes de cuentas")):(0,n.Q3)("",!0),r.showScoreModal?((0,n.uX)(),(0,n.CE)("div",me,[(0,n.Lk)("div",ke,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.players,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"player-row"},[(0,n.Lk)("p",null,(0,C.v_)(e.username),1),(0,n.Lk)("div",ye,[(0,n.Lk)("button",{onClick:s=>i.adjustScore(e,1),class:"btnSuma"},"+",8,ve),(0,n.Lk)("button",{onClick:s=>i.adjustScore(e,-1),class:"btnResta"},"-",8,ge)]),(0,n.Lk)("p",null,"Puntuación: "+(0,C.v_)(e.score),1)])))),128)),(0,n.Lk)("button",{class:"close-button",onClick:s[1]||(s[1]=(...e)=>i.closeScoreModal&&i.closeScoreModal(...e))},"Cerrar")])])):(0,n.Q3)("",!0),"admin"===r.username?((0,n.uX)(),(0,n.CE)("div",we,[(0,n.Lk)("div",Ce,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.players,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:"player-details"},[(0,n.Lk)("p",null,(0,C.v_)(e.username),1),(0,n.Lk)("p",null,(0,C.v_)(e.score),1)])))),128))])])):(0,n.Q3)("",!0)]),"admin"===r.username?((0,n.uX)(),(0,n.CE)("div",Ee,[(0,n.Lk)("div",null,[(0,n.Lk)("div",Le,[s[5]||(s[5]=(0,n.Lk)("b",null,"Turno de:",-1)),s[6]||(s[6]=(0,n.eW)()),s[7]||(s[7]=(0,n.Lk)("br",null,null,-1)),(0,n.Lk)("p",null,(0,C.v_)(r.turno),1)]),(0,n.Lk)("div",be,[(0,n.Lk)("p",null,(0,C.v_)(r.currentQuestion.question),1)]),(0,n.Lk)("div",fe,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.currentQuestion.options,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:(0,C.C4)(["option",i.getOptionClass(s),{selected:r.selectedOption===s}])},(0,C.v_)(e),3)))),128))])]),(0,n.Lk)("button",{class:"resolve-button",onClick:s[2]||(s[2]=e=>i.resolver())},"RESOLVER"),(0,n.Lk)("button",{class:"next-button",onClick:s[3]||(s[3]=e=>i.siguientePregunta())},"SIGUIENTE PREGUNTA")])):(0,n.Q3)("",!0),r.turno===this.username?((0,n.uX)(),(0,n.CE)("div",Qe,[(0,n.Lk)("div",Ae,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.currentQuestion.options,((e,s)=>((0,n.uX)(),(0,n.CE)("div",{key:s,class:(0,C.C4)(["option",i.getOptionClass(s),{selected:r.selectedOption===s}]),onClick:e=>i.selectOption(s)},(0,C.v_)(e),11,Oe)))),128))]),(0,n.Lk)("button",{class:"action-button",onClick:s[4]||(s[4]=(...e)=>i.submitAnswer&&i.submitAnswer(...e))},"Enviar respuesta")])):(0,n.Q3)("",!0)])}var Se={data(){return{username:this.$route.query.username,players:[{username:"",score:0}],questions:[],loading:!0,error:null,currentQuestionIndex:0,currentQuestion:{question:"",options:[],correctAnswer:0},selectedAnswer:null,turnoIndex:0,selectedOption:null,turno:"",showScoreModal:!1,playerAnswers:[]}},async created(){this.socket=(0,$.io)();try{const e=await fetch("http://localhost:8000/getPlayers");if(!e.ok)throw new Error(`Error del servidor: ${e.statusText}`);const s=await e.json();this.players=s.players,this.turno=this.players[this.turnoIndex].username}catch(e){console.error("Error al obtener los players:",e),this.error="Error al obtener los players. Intente de nuevo más tarde.",this.loading=!1}try{const e=await fetch("http://localhost:8000/getQuestionsTrivia");if(!e.ok)throw new Error(`Error del servidor: ${e.statusText}`);const s=await e.json();this.questions=s.questions,console.log("Preguntas:",this.questions),this.currentQuestion=this.questions[this.currentQuestionIndex]}catch(e){console.error("Error al obtener las preguntas:",e),this.error="Error al obtener las preguntas. Intente de nuevo más tarde.",this.loading=!1}this.socket.on("nuevo-turno",(e=>{this.turno=e})),this.socket.on("nueva-pregunta",(e=>{this.currentQuestion=e})),this.socket.on("new-answer",(e=>{this.playerAnswers.push(e),console.log("Respuestas de los jugadores:",this.playerAnswers)})),this.socket.on("redirect-to-resultados",(()=>{this.$router.push({name:"resultados",query:{username:this.username}})}))},methods:{getOptionClass(e){const s=["blue","green","orange","yellow"];return s[e]||""},elegirJugador(){this.turnoIndex++,this.turnoIndex===this.players.length&&(this.turnoIndex=0),this.turno=this.players[this.turnoIndex].username,this.socket.emit("nuevo-turno",this.turno)},openScoreModal(){this.showScoreModal=!0},closeScoreModal(){this.showScoreModal=!1},adjustScore(e,s){e.score+=s,e.score<0&&(e.score=0)},selectOption(e){this.selectedOption=e},async siguientePregunta(){this.elegirJugador(),this.currentQuestionIndex=0,this.questions.splice(this.currentQuestionIndex,1);while(this.questions.length>0){if(this.currentQuestion=this.questions[this.currentQuestionIndex],!this.currentQuestion.about||!this.currentQuestion.about.includes(this.turno))break;this.currentQuestionIndex++}if(this.currentQuestionIndex>=this.questions.length&&(this.currentQuestionIndex=0),0===this.questions.length){const e=await fetch("http://localhost:8000/updatePlayers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({players:this.players})}),s=await e.json();return console.log("Respuesta del servidor:",s),void this.socket.emit("redirect-to-resultados")}this.socket.emit("nueva-pregunta",this.currentQuestion);const e=document.getElementsByClassName("option");for(let s=0;s<e.length;s++)e[s].classList.remove("opcion-correcta"),e[s].classList.remove("opcion-incorrecta")},submitAnswer(){null!==this.selectedOption?(this.socket.emit("submit-answer",{player:this.username,answer:this.selectedOption}),alert(`Respuesta enviada: ${this.selectedOption}`),this.selectedOption=null):alert("Por favor selecciona una respuesta.")},resolver(){this.currentQuestion.options.forEach(((e,s)=>{s===this.currentQuestion.correctAnswer?document.getElementsByClassName("option")[s].classList.add("opcion-correcta"):document.getElementsByClassName("option")[s].classList.add("opcion-incorrecta")})),this.playerAnswers.forEach((e=>{e.answer===this.currentQuestion.correctAnswer&&this.players.forEach((s=>{s.username===e.player?(s.score++,console.log("player.score",s.score)):console.log("player.score",s.score)}))})),this.playerAnswers=[]}}};const qe=(0,l.A)(Se,[["render",Xe]]);var Ie=qe;const _e={class:"resultados"},Me={class:"todo"},je={class:"nombre"},xe={class:"score"},Pe={key:0,class:"caiman"},Te={key:1,class:"trucho"},Ne={key:2,class:"wawawa"},Re={key:3,class:"poppy"},$e={key:4,class:"sapo"};function Be(e,s,t,o,r,i){return(0,n.uX)(),(0,n.CE)("div",_e,[s[1]||(s[1]=(0,n.Lk)("h1",null,"Resultados",-1)),(0,n.Lk)("ul",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(r.players,(t=>((0,n.uX)(),(0,n.CE)("li",{key:t.username},[(0,n.Lk)("div",Me,[(0,n.Lk)("p",je,(0,C.v_)(t.username),1),s[0]||(s[0]=(0,n.eW)()),(0,n.Lk)("p",xe,(0,C.v_)(t.score),1)]),t.score>9?((0,n.uX)(),(0,n.CE)("span",Pe,"Caiman")):t.score>=7.5?((0,n.uX)(),(0,n.CE)("span",Te,"Trucho")):t.score>=5?((0,n.uX)(),(0,n.CE)("span",Ne,"Wawawa")):t-e.score>=3.5?((0,n.uX)(),(0,n.CE)("span",Re,"Poppy")):((0,n.uX)(),(0,n.CE)("span",$e,"Sapo"))])))),128))])])}var Fe={data(){return{username:this.$route.query.username,players:[]}},async created(){try{const e=await fetch("http://localhost:8000/getPlayers");if(!e.ok)throw new Error(`Error del servidor: ${e.statusText}`);const s=await e.json();console.log(s),this.players=s.players}catch(e){console.error("Error al obtener los players:",e)}}};const Je=(0,l.A)(Fe,[["render",Be]]);var Ke=Je;const Ue=[{path:"/",component:w},{path:"/waiting-room",component:J},{path:"/question",component:de},{path:"/question-view",component:de},{path:"/trivia-room",component:Ie,name:"trivia-room"},{path:"/resultados",component:Ke,name:"resultados"}],Ge=(0,d.aE)({history:(0,d.LA)(),routes:Ue});var We=Ge;const He=(0,o.Ef)(c);He.use(We),He.mount("#app")}},s={};function t(o){var n=s[o];if(void 0!==n)return n.exports;var r=s[o]={exports:{}};return e[o].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(s,o,n,r){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],n=e[c][1],r=e[c][2];for(var a=!0,l=0;l<o.length;l++)(!1&r||i>=r)&&Object.keys(t.O).every((function(e){return t.O[e](o[l])}))?o.splice(l--,1):(a=!1,r<i&&(i=r));if(a){e.splice(c--,1);var u=n();void 0!==u&&(s=u)}}return s}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[o,n,r]}}(),function(){t.d=function(e,s){for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){t.p="/"}(),function(){var e={524:0};t.O.j=function(s){return 0===e[s]};var s=function(s,o){var n,r,i=o[0],a=o[1],l=o[2],u=0;if(i.some((function(s){return 0!==e[s]}))){for(n in a)t.o(a,n)&&(t.m[n]=a[n]);if(l)var c=l(t)}for(s&&s(o);u<i.length;u++)r=i[u],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(c)},o=self["webpackChunkcaiman2024"]=self["webpackChunkcaiman2024"]||[];o.forEach(s.bind(null,0)),o.push=s.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],(function(){return t(5307)}));o=t.O(o)})();
//# sourceMappingURL=app.10e838fd.js.map